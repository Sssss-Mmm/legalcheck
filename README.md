# Legal Fact Checker (ë²•ë¥  íŒ©íŠ¸ì²´ì»¤)

ì¼ë°˜ì¸ì´ ê·¼ë¡œê¸°ì¤€ë²• ë“± ìƒí™œ ë²•ë¥ ì„ ì‰½ê²Œ ì´í•´í•˜ê³  í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” AI ê¸°ë°˜ "ë²•ë ¹ ê²€ì¦ ë° íŒ©íŠ¸ì²´í¬" ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë‹¨ìˆœí•œ Q&A ì±—ë´‡ì„ ë„˜ì–´, ë²•ë¥ ì  ì‚¬ì‹¤ì„ êµ¬ì¡°í™”í•˜ê³  íŠ¹ì • ì‹œì ì˜ ê°œì • ë²•ë ¹ì„ ë°”íƒ•ìœ¼ë¡œ íŒì •í•˜ëŠ” **íŒ©íŠ¸ì²´í¬ ì—”ì§„**ì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Features)

### 1. âš–ï¸ ë²•ë ¹ ê¸°ë°˜ íŒ©íŠ¸ì²´í¬ ì—”ì§„ (RAG íŒŒì´í”„ë¼ì¸)
- **ì‚¬ìš©ì ì£¼ì¥ ê²€ì¦**: "íšŒì‚¬ê°€ ì›”ê¸‰ì„ 2ê°œì›” ì•ˆ ì¤˜ë„ ëœë‹¤"ëŠ” ë“±ì˜ ì£¼ì¥ì„ ì…ë ¥í•˜ë©´ AIê°€ ê´€ë ¨ ë²• ì¡°ë¬¸ì„ ê²€ìƒ‰í•˜ì—¬ ì‚¬ì‹¤ ì—¬ë¶€ë¥¼ íŒì •í•©ë‹ˆë‹¤.
- **êµ¬ì¡°í™”ëœ íŒì • ê²°ê³¼**: LLMì´ ì¤„ê¸€ì´ ì•„ë‹Œ ì¼ê´€ëœ í˜•ì‹(JSON)ìœ¼ë¡œ ë‹µë³€ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
  - **íŒì • (Verdict)**: `TRUE`(ì‚¬ì‹¤), `PARTIAL`(ì¼ë¶€ ì‚¬ì‹¤), `FALSE`(ì‚¬ì‹¤ ì•„ë‹˜)
  - **ì‰¬ìš´ ì„¤ëª… (Explanation)**: ê·¼ê±° ì¡°í•­(ì˜ˆ: ê·¼ë¡œê¸°ì¤€ë²• ì œ36ì¡°)ê³¼ í•¨ê»˜ ì¼ë°˜ì¸ì˜ ëˆˆë†’ì´ì— ë§ì¶˜ í•´ì„
  - **í˜„ì‹¤ ì ìš© ì‚¬ë¡€ (Example)**: ì´í•´í•˜ê¸° ì‰¬ìš´ êµ¬ì²´ì ì¸ ì˜ˆì‹œ ì œê³µ
  - **ì£¼ì˜ì‚¬í•­ (Caution)**: ì˜ˆì™¸ ì¡°ê±´ì´ë‚˜ íŒë¡€ìƒ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” ë¶€ë¶„ ì•ˆë‚´

### 2. ğŸ—„ï¸ ì²´ê³„ì ì¸ ë²•ë¥  ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
ë²•ë¥  ì„œë¹„ìŠ¤ì— í•„ìˆ˜ì ì¸ **ê°œì • ì´ë ¥ ê´€ë¦¬**ì™€ **ìºì‹±**ì„ ì§€ì›í•˜ë„ë¡ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
- **`Law` & `LawArticle`**: ê¸°ë³¸ ë²•ë ¹ê³¼ ì¡°ë¬¸ ì •ë³´ (ì˜ˆ: ê·¼ë¡œê¸°ì¤€ë²• ì œ36ì¡°)
- **`LawArticleRevision` (ê°œì • ì´ë ¥)**: ë²•ë¥  ê°œì • ì‹œì (`effective_start_date`, `end_date`)ì„ ì¶”ì í•˜ì—¬, ê³¼ê±° íŠ¹ì • ì‹œì  ê¸°ì¤€ì˜ íŒ©íŠ¸ì²´í¬ë¥¼ ì§€ì›
- **`Topic`**: ì¡°ë¬¸ë³„ íƒœê·¸(ì˜ˆ: ì„ê¸ˆì²´ë¶ˆ, í‡´ì§ê¸ˆ) ë§¤í•‘ì„ í†µí•œ ì£¼ì œë³„ íƒìƒ‰ ê¸°ëŠ¥
- **`ClaimCheck`**: ì‚¬ìš©ìì˜ íŒ©íŠ¸ì²´í¬ ì§ˆë¬¸ê³¼ íŒì • ê²°ê³¼ë¥¼ DBì— ê¸°ë¡í•˜ì—¬ ì¶”í›„ ì˜¤ë‹µ ë…¸íŠ¸ ë° íŒŒì¸íŠœë‹ ë°ì´í„°ë¡œ í™œìš©
- **`ExplanationCache`**: LLMì˜ ë‹µë³€ ë¹„ìš© ì ˆê°ì„ ìœ„í•œ "ì‰¬ìš´ ì„¤ëª…" ìºì‹± ê¸°ëŠ¥

### 3. ğŸ“„ ê´€ë¦¬ììš© PDF ìë™ ë²•ë ¹ íŒŒì‹± API (Admin)
- ê´€ë¦¬ìê°€ ë²•ë ¹ ì›ë¬¸ PDF íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´(`POST /admin/laws/{law_id}/upload_pdf`), ë°±ì—”ë“œ ì‹œìŠ¤í…œì´ í…ìŠ¤íŠ¸ë¥¼ íŒŒì‹±(PyPDFLoader)í•©ë‹ˆë‹¤.
- LLM(`gpt-4o-mini`)ì„ í™œìš©í•´ ë¬¸ì„œì—ì„œ "ì œNì¡°(ì œëª©)" í˜•íƒœë¥¼ ìë™ìœ¼ë¡œ ì¸ì‹í•˜ê³  ë¶„ë¦¬í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤(`LawArticle`, `LawArticleRevision`)ì— ìë™ ì ì¬í•©ë‹ˆë‹¤.

### 4. ğŸ’» ì‚¬ìš©ì ì¹œí™”ì ì¸ ëŒ€ì‹œë³´ë“œ (Frontend)
- Next.js ê¸°ë°˜ì˜ íŒ©íŠ¸ì²´í¬ ëŒ€ì‹œë³´ë“œ
- Google OAuth ì†Œì…œ ë¡œê·¸ì¸ ì—°ë™ (NextAuth)
- íŒ©íŠ¸ì²´í¬ ê²°ê³¼ì— ë”°ë¥¸ ìƒ‰ìƒë³„ ë±ƒì§€(TRUE/PARTIAL/FALSE) ë° ìš”ì•½/ì‚¬ë¡€ ë¶„ë¦¬í˜• ì¹´ë“œ UI ì œê³µ

---

## ï¿½ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (System Architecture)

```mermaid
graph TD
    User([ğŸ‘¨â€ğŸ’» ì‚¬ìš©ì]) -->|íŒ©íŠ¸ì²´í¬ ìš”ì²­| Frontend[Next.js Frontend<br>(ëŒ€ì‹œë³´ë“œ / ì±—ë´‡ UI)]
    Frontend -->|OAuth ì¸ì¦| NextAuth[NextAuth.js<br>Google Login]
    Frontend -- REST API --> Backend[FastAPI Backend]

    Admin([ğŸ‘® ê´€ë¦¬ì]) -->|ë²•ë ¹ PDF ì—…ë¡œë“œ| Backend

    subgraph Backend System
        Backend --> RAG[ğŸ§  RAG íŒŒì´í”„ë¼ì¸<br>(LangChain)]
        Backend --> DataParsing[ğŸ“„ íŒŒì‹± ì—”ì§„<br>(PyPDFLoader + LLM)]
    end

    RAG -->|ê²€ì¦ ë° ìƒì„±| LLM[OpenAI API<br>(gpt-4o / gpt-4o-mini)]
    RAG <-->|ìœ ì‚¬ë„ ë¬¸ì„œ ê²€ìƒ‰| VectorDB[(ChromaDB<br>Vector Store)]

    DataParsing -->|ë²•ì¡°ë¬¸ êµ¬ì¡°í™”/ë‹¨í¸í™”| DB[(SQLite Database<br>ê´€ê³„í˜• ë°ì´í„°/ìºì‹œ)]
    DataParsing -->|ì„ë² ë”© ì €ì¥| VectorDB

    Backend <-->|CRUD ë° ìºì‹±| DB
    OpenData([ğŸ›ï¸ ê³µê³µë°ì´í„°í¬í„¸]) -.->|ì™¸ë¶€ API í†µì‹ | Backend
```

---

## ï¿½ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Backend
- **Framework**: FastAPI (Python 3.11+)
- **Database**: SQLite (í–¥í›„ PostgreSQL + `pgvector` ì „í™˜ ê³ ë ¤), SQLAlchemy (ORM), Alembic (Migration)
- **AI / RAG**: LangChain, OpenAI API (`gpt-4o`, `gpt-4o-mini`), ChromaDB (Vector Store)
- **Package Manager**: `uv`

### Frontend
- **Framework**: Next.js 15 (App Router), React 19
- **Styling**: Tailwind CSS
- **Authentication**: NextAuth.js (Google Provider)

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²• (Setup Guide)

### 1. í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Python 3.11 ì´ìƒ
- `uv` (Python íŒ¨í‚¤ì§€ ê´€ë¦¬ì)
- Node.js 18 ì´ìƒ
- OpenAI API Key

### 2. ë°±ì—”ë“œ ì„¤ì • (Backend)
```bash
cd backend

# íŒ¨í‚¤ì§€ ë™ê¸°í™” ë° ì„¤ì¹˜
uv sync

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ OPENAI_API_KEYë¥¼ ì…ë ¥í•˜ì„¸ìš”.

# ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰
uv run fastapi dev app/main.py
```

### 3. í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì • (Frontend)
```bash
cd frontend

# íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install

# í™˜ê²½ë³€ìˆ˜ ì„¸íŒ…
# .env.local íŒŒì¼ì— NEXTAUTH_URL, GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET ë“±ì„ ì…ë ¥í•˜ì„¸ìš”.

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

---

*ì´ í”„ë¡œì íŠ¸ëŠ” ë³µì¡í•œ ë²•ë¥  ì–¸ì–´ë¥¼ ì‰¬ìš´ ì¼ìƒì–´ë¡œ ë²ˆì—­í•˜ê³ , "ì •í™•í•œ ì‚¬ì‹¤"ë§Œì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ê³ ë„í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤.*
